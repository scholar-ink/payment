package notify

import (
	"encoding/json"
	"fmt"
	"testing"
)

func TestYeeEnterNotify_Handle(t *testing.T) {

	notify := new(YeeEnterNotify)

	notify.InitBaseConfig(&YeeEnterConfig{
		ParentMerchantNo: "10033308281",
		PrivateKey:       "MIIEpAIBAAKCAQEAuRG2HsqR2kXwDtQbCZNtravarGNttzbh8q4SuVAfNb5G7mpf4aKrscS6+P1YQxSsIHXANbm1d1AdtXw9DZd1zZQwqkI63kDO0UcKjSlnsSso4MH3x4YPhHNfXapxotLs9uB8WeMdBvZ9viK1bGJ9IlIm/G08dKi5w90OXAlmY6mGSlSM8PQKFZ4xDvxsx/eVIIkvZyRYSdIYvaGU4C5yep0SDHmtdzu+l3KrnwmuYruDTEgevCXIwNFeFuuxmqTJpxbovLzLQcYfzw5VgrzMQKo81ihRa2TgbmpPqHvz8Ecpv2SD3oZcqJJ+V9Fekn8ZwRii01kZRxmtO6wHJiJA0wIDAQABAoIBAQChyUX4rQXMVw+BJxNrz6I2DOJhiZpEbIoh6OMddVmTVgAUNJIVYmvOQDljqbYbDltbFRUu4mYtI7CVE0McOqgVS9MvRC7KVMV4Vi53MRcg3qYhte+yURQHqgRYkcQ9nz7go2aR/eVGTP2n1hfb5E2YT1EdozESmt2qx/jhpKYJwJCx/Bbt0Puk7tAAFjF+FlfVJBCjaotRaDEa3wbRBloIgHTz7lKMmeIWwDP5APAqTsMjQVTgrUmFbwRy8wlFrS9eHsXvHUNSz40lTbQZYzjCDyAWsnr+d7UJnA1y1OKlW/L/7iA5tZlPooDAcZQrw/2L6eqcIfli6qJS5xp7jPYhAoGBAN1lEL8N+VH4ZlaAIU6JcwhdGP7pqVNXm1E/OHCEuAUrXNUUXPsYzSVsonm/iwK5DBqakVQauHzELF2i1Vq2L2ZFIWzGmXRbOStD25WlRAmXdaR7tmyk1wUbi4pGLcPsZ0T83p7h5jYcU20xqdRWIbFzAd0zhgmLIivgd3/Izco3AoGBANX/GzEg+3/Ezjxm0+PngtNP1XhBBMZfLA/Za9VWxkoRhet7nA0ZS8TdYCucqYsi/xT3Zm6uW4nsfBA6EppX36iS0Ko1kvu/BRB52S4KX2N2Nprv0aI2BKUt8GFnzMu3vYoWwU4HfAPZo4gHhujQyNIGva4O3nU3FA+17IdaS0BFAoGBAMi/WHT01cqW4yyyGAFfrpe52u1hsDCq8mG0YpfcMAQ38oAfa8QfE/1ISPb+UK0SX8BLwVUyuXAgbV4mRTFwmwAv1QQN/J0+DlOFvzks1smftYOEzcAro/C0rk2eHudVl7o9VBtbGGSeQKN1cdngk8KUVu9dRb+nkj+Y1KJg0QD3AoGAUoUlPzSwxvxlavVcEC5eTI4ki1LHPJfGrfXxlzr3C+jl84CfFI4Eoc2cIDUxS+4a30LnxRaHRhBjZv593fa00JSM0pYGL/3hPhE+pnppfjk/pU+FTz/1Wpz0bRtR5dzcwjs0H5rTP8jVPsdoRq78QcFHs68YKasrmUNWCnvPOOECgYBzF69wXWrRK0aBa+5RdjI7oED/7i0l8urRn1Xf3+1KSNbXDLPy/PYkAtpcf6tNBY7n3utFiEZrkc1FM1v74KDmuSij7XPpmIyldVkIwy1/Xx/fRvBSuIVHpbS8FZEUqlCg7B5LB6rFTYyzGOtoXy2A3EVVa5vfsWns9ukY7VPLKA==",
	})

	ret := "O6mycFnOcGif2qnrPfjbzOp1ixHR2j-a9WAPBEKLmwEtDY_c0gyatLtVPZGlpndXErjCwkB4o3ONypzfZcNMNS96z68-bc2S4niCqFRTKk_8ICRT_SW8MsC9AVUW-SWOSPeBlmhj6rmoKVgq8DiGm7QuNQx8tw6YAlLejqwP6yX2CWF7inf6OfY62y4ZxsUY6V8HA6A7_EoFhJ_TWm-3eeP5_uxIjNHJIOy7j5ZvP63kIaYdBQsMRhOlhR6pvE0-GD1kXhhw4vrxhLN1uIjm5tHEcdG0xxEGxz_8wlMAhLFSyv13DBb8DXRyXi3mnVqPlMnEeNWKrYPrwBX_ETMzeQ$TFiN9yM2ipllt4tm0Nc6A2oXOUlvSRsl0s6dG59OA9MW3JAjxpnVo_tzx6RRj9NFLGbZ_MRfdWKHNzAfHRZQXo3kJkOaWRpBFgu4bbnAzVTqQarKGsFywo4b2F1Mn61um9QlYdrnFaGgX3pG738yqRR7pJtmRTlQKx4m4G3FNxoAOdSXha7DOeR-f2ZyqjXpgjpHe-YnM7p5wb9MljwOOLRx11Ui7iAwwJXs_RD_b9von5ntf8El9CSt9KjNrD1mjdmsmaVaTPSnm9ZBqoGn59c71DNG_b42rdT6XO_446tb0p-uzIohajw3DupLbzwys5ekVtoy5DfY94wcSvWKnGmDLtMocQzsCUvWsSJ2RNXon1EaiThwYa7j-OpYWHrOUMziJvnYjo7ZpuaNsRQ0MaSvB7YFBtrNLxob1UphWLeLnXyFzq4nmKVi6tUBXwn0iJz7TwficdphWY7-YSMWWV3V9L8P7gCT5klKuiU_0FT0YVxkMI4lx9xR3f_CnVtQuZtVikEB1HzTUIUOxA5HQQIP-k7r7ZhHlarig-DTqHo8U4hUVGpY_daDhsUOCYf_HTvi0irO6IqmR9ExkJqRhzXcBBBN6iRfv7ovBJHv6uXrUuuQyUHxDuqY2Mc9amC7wXAQelWihW_jqOYVq2ESPm2N64c0AAKKORqemFOVQSM3Tllc0pbGDe-0_v9i2DDZacovEkpb7m_xcWuj6nfX1AcLboLH1LUzAfshdSHagPZfAU9FREuUp9sBIfAlBlm1ZspAGf7tZdlpFDaVNKyORZ9JfoTqlhB51PMEhokNUQggLvAId5SNLq_Ef9sqrHFg4nulW-0JeiCUIlDWchQJy0yHIA8lItp2ktbvh47Z5d46c9AwFaQM97IxIKRpyWmb3rJRBhhD7Giedv0QCsvRTmKCOIKDTrysLHWTYN1MdxeYFoJSAbX7-8vDGALwULM8buKtu4cAyKsewgzVZay8i0WPPHKexLCSv6TJIchG-xA-JywOaZ3In64etu4EMIthJSFp6dCQa9Cu5MTT_qtTiy0MhdkKunqGMEv78RCV7Er-ifiiwDIWbERZebWwKuU6zN4QTvTQiUPpGKczlzH-Pyk2WK1Q5dzFgOkeINfVW6Q81tLlyCQA1kDIVa50M1MyJucGjOKcm_1lfx4UHmg-D81YW1fP2jaC3T_An1sZTDcqUCTReRzYlTRSMdfGNe9G5tXmSbnXWW8i4-LJfRiJwQ$AES$SHA256"

	result := notify.Handle(ret, func(data *YeeEnterNotifyData) error {

		b, err := json.Marshal(data)

		fmt.Println(string(b))
		fmt.Println(err)
		return nil
	})

	fmt.Println(result)
}
